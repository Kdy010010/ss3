<<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>StarShield2 — Epilogue</title>

<style>
:root{
  --bg:#050014;
  --text:#f4f8ff;
  --sub:#a6b0ff;
  --accent:#4af2c5;
  --gold:#ffd166;
  --panel:rgba(8,12,34,.92);
}
*{box-sizing:border-box;margin:0;padding:0;font-family:system-ui,-apple-system,"Segoe UI",sans-serif}

html,body{height:100%}
body{
  background: radial-gradient(circle at 18% 12%, #1b1f58 0%, #07001b 45%, #03000c 100%);
  color:var(--text);
  overflow:auto;   /* 모바일 스크롤 허용 */
}

/* background */
#stars{position:fixed;inset:0;z-index:0}
.vignette{
  position:fixed;inset:-20%;pointer-events:none;z-index:1;
  background:radial-gradient(circle at 50% 30%, transparent 0 35%, rgba(0,0,0,.6) 60%, rgba(0,0,0,.95) 100%);
}
.scan{
  position:fixed;inset:0;pointer-events:none;z-index:2;
  opacity:.08;
  background:repeating-linear-gradient(to bottom,rgba(255,255,255,.15) 0 1px,transparent 1px 3px);
}

/* layout */
.wrap{
  position:relative;
  z-index:3;
  min-height:100vh;
  display:flex;
  align-items:flex-start;
  justify-content:center;
  padding:24px 16px 80px;
}
.card{
  width:min(920px,100%);
  background:linear-gradient(180deg,var(--panel),rgba(6,8,24,.95));
  border-radius:22px;
  border:1px solid rgba(166,176,255,.18);
  box-shadow:0 20px 60px rgba(0,0,0,.55);
  overflow:hidden;
}

/* header */
.header{
  padding:16px 20px;
  background:rgba(10,14,40,.55);
  border-bottom:1px solid rgba(166,176,255,.12);
  font-size:13px;
  letter-spacing:.18em;
  text-transform:uppercase;
  color:var(--sub);
}

/* content */
.content{
  padding:28px 24px 10px;
  text-align:center;
}
.text{
  font-size:1.6rem;
  line-height:1.7;
  letter-spacing:.04em;
  min-height:4.5em;
}

/* image */
.image-wrap{
  margin-top:42px;
  display:flex;
  justify-content:center;
  transform:translateY(-14px); /* ← 살짝 위로 띄움 */
}
.image-wrap img{
  max-width:78%;
  height:auto;
  opacity:.92;
  filter:contrast(1.05);
}

/* footer */
.footer{
  padding:18px;
  border-top:1px solid rgba(166,176,255,.12);
  background:rgba(10,14,40,.35);
  display:flex;
  justify-content:center;
}
button{
  border-radius:14px;
  padding:10px 16px;
  font-weight:700;
  background:rgba(10,14,40,.6);
  color:var(--text);
  border:1px solid rgba(74,242,197,.45);
  cursor:pointer;
}
button:hover{background:rgba(10,14,40,.8)}

/* fade */
.fade{
  position:fixed;inset:0;
  background:#000;
  opacity:0;
  pointer-events:none;
  transition:opacity .7s ease;
  z-index:9;
}
.fade.on{opacity:1}
</style>
</head>

<body>
<canvas id="stars"></canvas>
<div class="vignette"></div>
<div class="scan"></div>
<div class="fade" id="fade"></div>

<div class="wrap">
  <div class="card">

    <div class="header">EPILOGUE · LUNAR FRONT</div>

    <div class="content">
      <div class="text" id="tw"></div>

      <div class="image-wrap">
        <img src="img (2).png" alt="Moon Epilogue">
      </div>
    </div>

    <div class="footer">
      <button onclick="goNext()">에필로그 종료</button>
    </div>

  </div>
</div>

<script>
/* starfield */
(()=>{
  const c=document.getElementById('stars'),ctx=c.getContext('2d');
  let W,H,DPR,stars=[];
  function resize(){
    DPR=Math.max(1,devicePixelRatio||1);
    W=innerWidth;H=innerHeight;
    c.width=W*DPR;c.height=H*DPR;
    ctx.setTransform(DPR,0,0,DPR,0,0);
    stars=Array.from({length:Math.min(500,W*H/4000)},()=>({
      x:Math.random()*W,y:Math.random()*H,
      r:Math.random()*1.5+.3,
      v:Math.random()*.3+.05,
      a:Math.random()*.7+.2
    }));
  }
  addEventListener('resize',resize);resize();
  (function tick(){
    ctx.clearRect(0,0,W,H);
    for(const s of stars){
      s.y+=s.v;if(s.y>H){s.y=0;s.x=Math.random()*W}
      ctx.globalAlpha=s.a;
      ctx.beginPath();ctx.arc(s.x,s.y,s.r,0,Math.PI*2);
      ctx.fillStyle="#fff";ctx.fill();
    }
    requestAnimationFrame(tick);
  })();
})();

/* typewriter */
const text =
  "마지막 나치가 앞에 있다.\n" +
  "이 버러지 같은 놈이 오른팔을 올리며 이상한 말을 짓걸였지만,\n" +
  "들리지도 않고 상관 또한 없다.\n" +
"달 뒷면은 해방되지 못했지만,\n" +
"앞면은 이제 자유와 민주주의의 땅이다.";

const el=document.getElementById('tw');
let i=0;
(function type(){
  el.innerHTML=text.slice(0,i).replace(/\n/g,"<br>");
  if(i++<text.length)setTimeout(type,30);
})();

function goNext(){
  document.getElementById('fade').classList.add('on');
  setTimeout(()=>location.href="index.html",700);
}
</script>
</body>
</html>
