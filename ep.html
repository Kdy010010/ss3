<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>StarShield3: the ironcross — Epilogue</title>
<style>
  :root{
    --bg:#050014;
    --panel:rgba(10,14,40,.92);
    --panel2:rgba(8,12,34,.88);
    --text:#f4f8ff;
    --sub:#a6b0ff;
    --accent:#4af2c5;
    --danger:#ff4b81;
    --gold:#ffd166;
  }
  *{box-sizing:border-box;margin:0;padding:0;font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif}
  html,body{height:100%}
  body{
    min-height:100vh;display:flex;align-items:center;justify-content:center;
    background:radial-gradient(circle at 30% 0%,#1c2060 0,var(--bg) 60%);
    color:var(--text);
    overflow:hidden;
  }

  /* ====== Cinematic background ====== */
  .bg{
    position:fixed; inset:-40px; z-index:-3;
    background:
      radial-gradient(1200px 600px at 20% 20%, rgba(74,242,197,.10), transparent 55%),
      radial-gradient(1000px 700px at 80% 30%, rgba(110,144,255,.12), transparent 60%),
      radial-gradient(900px 900px at 50% 120%, rgba(255,209,102,.08), transparent 60%),
      radial-gradient(circle at top, #16193b 0, var(--bg) 60%);
    filter:saturate(1.05);
  }
  .stars{
    position:fixed; inset:-20px; z-index:-2; opacity:.9;
    background-image:
      radial-gradient(2px 2px at 20% 30%, rgba(255,255,255,.9) 40%, transparent 41%),
      radial-gradient(1px 1px at 60% 20%, rgba(255,255,255,.85) 40%, transparent 41%),
      radial-gradient(1px 1px at 80% 60%, rgba(255,255,255,.8) 40%, transparent 41%),
      radial-gradient(1px 1px at 30% 80%, rgba(255,255,255,.7) 40%, transparent 41%),
      radial-gradient(2px 2px at 70% 78%, rgba(255,255,255,.75) 40%, transparent 41%),
      radial-gradient(1px 1px at 45% 55%, rgba(255,255,255,.6) 40%, transparent 41%),
      radial-gradient(1px 1px at 10% 70%, rgba(255,255,255,.65) 40%, transparent 41%),
      radial-gradient(1px 1px at 90% 10%, rgba(255,255,255,.55) 40%, transparent 41%);
    background-size: 520px 520px;
    animation: drift 14s linear infinite;
  }
  @keyframes drift{ from{transform:translate3d(0,0,0)} to{transform:translate3d(-60px,40px,0)} }

  .vignette{
    position:fixed; inset:0; z-index:-1; pointer-events:none;
    background:radial-gradient(circle at 50% 35%, transparent 35%, rgba(0,0,0,.55) 80%);
  }
  .scanlines{
    position:fixed; inset:0; z-index:10; pointer-events:none;
    background:linear-gradient(to bottom, rgba(255,255,255,.05), rgba(255,255,255,0));
    background-size: 100% 4px;
    mix-blend-mode:overlay;
    opacity:.12;
    animation: scan 2.4s linear infinite;
  }
  @keyframes scan{ from{transform:translateY(0)} to{transform:translateY(8px)} }

  /* ====== Layout ====== */
  .wrap{width:min(1040px,calc(100vw - 24px));padding:18px; position:relative; z-index:1}
  .card{
    background:linear-gradient(145deg, rgba(8,12,34,.96), rgba(6,8,24,.96));
    border:1px solid rgba(110,144,255,.55);
    border-radius:20px;
    box-shadow:0 0 38px rgba(0,0,0,.88), 0 0 22px rgba(74,242,197,.18);
    overflow:hidden;
    transform:translateY(8px);
    opacity:0;
    animation: enter 900ms ease forwards;
  }
  @keyframes enter{ to{opacity:1; transform:translateY(0)} }

  header{padding:16px 16px 12px;border-bottom:1px solid rgba(110,144,255,.28)}
  .kicker{font-size:12px;color:rgba(166,176,255,.92);letter-spacing:.18em;text-transform:uppercase}
  h1{margin-top:6px;font-size:22px;letter-spacing:.06em}
  .sub{margin-top:6px;color:var(--sub);font-size:12px;line-height:1.45}

  .body{padding:14px 16px 18px}
  .scene{
    background:rgba(10,14,40,.55);
    border:1px solid rgba(80,110,255,.35);
    border-radius:14px;
    padding:12px 12px;
    line-height:1.72;
    font-size:13px;
    color:#eaf0ff;
    white-space:pre-wrap;
  }

  /* Typewriter line */
  .final-line{
    margin-top:14px;
    padding:12px 12px;
    border-radius:14px;
    border:1px solid rgba(74,242,197,.38);
    background:linear-gradient(180deg, rgba(12,18,50,.88), rgba(10,14,40,.68));
  }
  .final-title{
    display:flex; align-items:center; gap:10px; flex-wrap:wrap;
    font-weight:900; letter-spacing:.04em;
  }
  .pulse{
    width:8px;height:8px;border-radius:999px;background:var(--accent);
    box-shadow:0 0 14px rgba(74,242,197,.55);
    animation:pulse 1.4s ease-in-out infinite;
  }
  @keyframes pulse{ 0%,100%{transform:scale(.9); opacity:.7} 50%{transform:scale(1.35); opacity:1} }

  #typewriter{
    margin-top:8px;
    font-size:16px;
    line-height:1.6;
    font-weight:900;
    color:#f6fbff;
    text-shadow:0 0 16px rgba(255,255,255,.08), 0 0 18px rgba(74,242,197,.10);
    min-height: 2.6em;
  }
  .caret{display:inline-block;width:10px;transform:translateY(1px);opacity:1;animation:caret 850ms steps(1) infinite}
  @keyframes caret{ 50%{opacity:0} }

  .meta{display:flex;gap:8px;flex-wrap:wrap;margin:12px 0 0}
  .tag{font-size:11px;color:var(--sub);border:1px solid rgba(180,196,255,.4);border-radius:999px;padding:4px 10px;background:rgba(12,18,50,.7)}
  .tag b{color:var(--text)}

  /* ====== Image at the very bottom, lifted up ====== */
  .ending-image{
    margin-top:16px;
    display:flex;
    justify-content:center;
    padding-bottom:6px;
  }
  .ending-image img{
    width:min(760px,92%);
    max-height:280px;
    object-fit:cover;
    border-radius:16px;
    border:1px solid rgba(110,144,255,.35);
    box-shadow:0 0 26px rgba(0,0,0,.65);
    transform:translateY(-12px); /* << 핵심: 아래에 두되 '위로 띄움' */
    opacity:.92;
  }

  .divider{
    height:1px; margin:10px 0 0;
    background:linear-gradient(90deg, transparent, rgba(110,144,255,.35), transparent);
  }

  .actions{display:flex;gap:10px;justify-content:flex-end;flex-wrap:wrap;margin-top:10px}
  .btn{
    appearance:none;border:none;cursor:pointer;border-radius:12px;padding:10px 12px;
    font-weight:900;font-size:12px;letter-spacing:.02em;color:#001019;
    background:linear-gradient(180deg,var(--accent),#1bd8a6);
    box-shadow:0 0 0 1px rgba(74,242,197,.55), 0 0 18px rgba(74,242,197,.18);
  }
  .btn.secondary{background:rgba(12,18,50,.9);color:var(--text);border:1px solid rgba(110,144,255,.45);box-shadow:none}
  .btn.danger{background:linear-gradient(180deg,var(--danger),#ff2f63);color:#16000a}

  footer{padding:10px 16px 14px;color:rgba(166,176,255,.88);font-size:11px;line-height:1.4;border-top:1px solid rgba(110,144,255,.22)}
  .credits{display:flex;justify-content:space-between;gap:10px;flex-wrap:wrap}
  .mono{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace}
  .fadeout{
    position:fixed; inset:0; background:#000; opacity:0; pointer-events:none;
    transition:opacity 850ms ease;
    z-index:999;
  }
  .fadeout.on{opacity:1; pointer-events:auto}

  @media (max-width:540px){
    #typewriter{font-size:15px}
    .ending-image img{max-height:220px}
  }
</style>
</head>
<body>
  <div class="bg"></div>
  <div class="stars"></div>
  <div class="vignette"></div>
  <div class="scanlines"></div>
  <div class="fadeout" id="fade"></div>

  <div class="wrap">
    <div class="card" id="card">
      <header>
        <div class="kicker">STARSHIELD · 철과 십자</div>
        <h1>EPILOGUE — 철과 십자</h1>
        <div class="sub">달 앞면(NEARSIDE) 전역 확보. 전투 기록은 ‘승리’로 분류되었다.</div>
      </header>
      <div class="body">
        <div class="scene">오세아누스 프로켈라룸(Oceanus Procellarum)에서 시작된 교두보는,
마레 임브리움(Mare Imbrium)의 보급 레일을 끊어내며 전선을 굳혔다.

코페르니쿠스(Copernicus) 고원에서 ‘광학 사격 통제’가 무너졌고,
고요의 바다(마레 트랑퀼리타티스, Mare Tranquillitatis)에서는 유적 구역을 지켜낸 채 방어선을 세웠다.

세레니타티스(Mare Serenitatis)·플라토(Plato) 분화구 사슬전에서
제4제국의 타워 증식 거점이 무력화되자, 달 앞면의 전쟁은 사실상 끝을 향해 기울었다.

마지막으로 티코(Tycho) 방사상 지형과 아리스타르코스(Aristarchus) 고원.
‘앞면 완전 점령’을 선언했던 제4제국의 중앙 코어는 붕괴했고,
지구-달 보급로는 다시 열렸다.

그러나 승리의 보고서에는 한 줄이 덧붙는다.

“달 뒷면(FARSIDE)은 점령 불가 구역.”

남극-에이킨 분지(South Pole–Aitken Basin)의 깊은 그늘,
티올콥스키(Tsiolkovskiy) 분화구 주변의 산악 지형,
마레 모스코비엔세(Mare Moscoviense) 일대의 통신 음영과 잔존 병력의 저항.
앞면에서 통하던 전술은 뒷면에서 무너졌다.

전쟁은 끝난 것이 아니다.
다만 ‘달 앞면’이라는 무대가 막을 내렸을 뿐.

— 다음 작전은, 뒷면의 어둠 속에서 시작된다.</div>

        <div class="final-line">
          <div class="final-title"><span class="pulse"></span>FINAL REPORT</div>
          <div id="typewriter" aria-label="ending-line"></div>
        </div>

        <div class="meta">
          <div class="tag"><b>확보</b>: Oceanus Procellarum · Mare Imbrium · Mare Tranquillitatis · Mare Serenitatis</div>
          <div class="tag"><b>결전</b>: Copernicus · Plato · Tycho · Aristarchus</div>
          <div class="tag"><b>점령 불가</b>: South Pole–Aitken · Tsiolkovskiy · Mare Moscoviense</div>
        </div>

        <div class="ending-image">
          <img src="img.jpg" alt="Epilogue Image" onerror="this.style.display='none'" />
        </div>

        <div class="divider"></div>

        <div class="actions">
          <button class="btn secondary" onclick="go('ss.html')">메인으로 돌아가기</button>
          <button class="btn" onclick="go('ss.html#continue')">다시 플레이</button>
        </div>
      </div>
      <footer>
        <div class="credits">
          <div>Transmission: <span class="mono">NEARSIDE_SECURED</span></div>
          <div>Next: <span class="mono">FARSIDE_SHADOWS</span></div>
        </div>
      </footer>
    </div>
  </div>

<script>
  // ===== cinematic typewriter =====
  const line = "달 뒷면은 해방되지 못했지만, 앞면은 이제 자유와 민주주의의 땅이다.";
  const el = document.getElementById('typewriter');
  let i = 0;

  function tick(){
    if(!el) return;
    const shown = line.slice(0, i);
    el.innerHTML = escapeHtml(shown) + '<span class="caret">▍</span>';
    i++;
    if(i <= line.length){
      const ch = line[i-1] || '';
      const base = 22;
      const extra = (ch === ' ')? 40 : (/[,.]/.test(ch)? 120 : 0);
      setTimeout(tick, base + extra);
    }else{
      el.innerHTML = '<span style="color:var(--gold)">"</span>' + escapeHtml(line) + '<span style="color:var(--gold)">"</span>';
    }
  }

  function escapeHtml(s){
    return s.replace(/[&<>"']/g, c => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;','\'':'&#39;'}[c]));
  }

  // start with a short delay for drama
  setTimeout(tick, 520);

  // smooth navigation helper
  function go(href){
    location.href = href;
  }
</script>
</body>
</html>
